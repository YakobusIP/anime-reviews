generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Anime {
  id            String         @id @default(auto()) @map("_id") @db.ObjectId
  malId         Int            @unique
  type          String
  status        String
  rating        String
  season        String?
  title         String
  titleJapanese String
  titleSynonyms String
  source        String
  aired         String
  broadcast     String
  episodesCount Int?
  duration      String
  score         Float?
  images        Json
  genres        String[]
  studios       String[]
  themes        String[]
  synopsis      String
  trailer       String?
  malUrl        String
  episodes      AnimeEpisode[]
  createdAt     DateTime       @default(now())
  updatedAt     DateTime       @updatedAt
}

model AnimeEpisode {
  id            String @id @default(auto()) @map("_id") @db.ObjectId
  aired         String
  number        Int
  title         String
  titleJapanese String?
  titleRomaji   String?
  anime         Anime  @relation(fields: [animeId], references: [id])
  animeId       String @db.ObjectId
}
